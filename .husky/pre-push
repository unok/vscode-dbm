echo "ğŸš€ Running pre-push CI checks..."

# Run the same checks as CI
echo "ğŸ” Running lint with auto-fix..."
npm run lint:fix || echo "âš ï¸ Some lint issues remain after auto-fix"

echo "ğŸ“Š Checking final lint status..."
npm run lint:check && echo "âœ… All lint issues resolved" || {
  echo "âŒ Lint issues found. Please review and fix:"
  npm run lint:check
  exit 1
}

echo "ğŸ” Running TypeScript type check..."
npm run type-check && echo "âœ… TypeScript check passed" || {
  echo "âŒ TypeScript type errors found. Fix these before pushing."
  exit 1
}

echo "ğŸ—ï¸ Testing build process..."
npm run build && echo "âœ… Build successful" || {
  echo "âŒ Build failed. Fix build errors before pushing."
  exit 1
}

echo ""
echo "ğŸ‰ All pre-push checks passed! Ready to push."